{
  "hash": "c2fa134abf8e98cb0a586d37ebff0fb7",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Preprocessing: monthly home ranges\"\nformat: html\nfreeze: auto\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(\"dplyr\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'dplyr'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(\"move2\")\nlibrary(\"units\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nudunits database from /usr/share/udunits/udunits2.xml\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(\"rnaturalearth\")\nlibrary(\"lubridate\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'lubridate'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following objects are masked from 'package:base':\n\n    date, intersect, setdiff, union\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(\"sf\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLinking to GEOS 3.13.1, GDAL 3.10.2, PROJ 9.6.0; sf_use_s2() is TRUE\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(\"readr\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRegistered S3 methods overwritten by 'readr':\n  method                    from \n  as.data.frame.spec_tbl_df vroom\n  as_tibble.spec_tbl_df     vroom\n  format.col_spec           vroom\n  print.col_spec            vroom\n  print.collector           vroom\n  print.date_names          vroom\n  print.locale              vroom\n  str.col_spec              vroom\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(\"ggplot2\")\n\n#' Flatten the array\n#'\n#' This function creates one big array out of an array of arrays.\n#'\n#' @param areas The arrays to flatten\n#'\n#' @return The flattened arrays\n#' @export\nflatten_array <- function(areas) {\n  all_areas <- c()\n  for (area in areas) {\n    all_areas <- c(all_areas, area)\n  }\n  return(all_areas)\n}\n\n#' Calculate monthly home ranges\n#'\n#' This function downloads montly data from Movebank and performs home range calculation and plotting.\n#'\n#' @param ts_start The timestamp to start from\n#' @param num_months The number of months to calculate for\n#' @param study_id The Movebank study id\n#' @param license_string_with_quotes The MD5 license string for Movebank download, with quotes included\n#'\n#' @return A list with a ggplot object and an array of home range sizes\n#' @export\ncalculate_monthly_home_ranges <- function(ts_start, num_months, study_id, license_string_with_quotes, palette_colors) {\n  areas <- list()\n  mcp_list <- list()\n  ts_end <- add_with_rollback(ts_start, months(1))\n\n  for (i in 1:num_months) {\n    print(i)\n    tryCatch({\n      foxes <- movebank_download_study(\n        study_id = study_id,\n        'license-md5' = license_string_with_quotes,\n        timestamp_start = ts_start,\n        timestamp_end = ts_end\n      )\n      \n      tracks <- mt_track_lines(foxes)\n      mcp <- st_convex_hull(tracks)\n      areas[[i]] <- st_area(mcp)\n      mcp_list[[i]] <- mcp\n    }, error = function(e) {\n      print(e)\n    }, finally = {\n      ts_start <- ts_end\n      ts_end   <- add_with_rollback(ts_end, months(1))\n    })\n  }\n\n  # Combine all monthly MCPs into one sf\n  all_mcp <- do.call(rbind, mcp_list)\n\n  # Create final ggplot (outline only)\n  gg <- ggplot() +\n    geom_sf(data = all_mcp, aes(color = as.factor(individual_local_identifier)), fill = NA, linewidth = 0.6) +\n    scale_color_manual(values = palette_colors) +\n    labs(x = \"Longitude\", y = \"Latitude\", color = \"Fox ID\") +\n    theme_minimal(base_size = 14) +\n    theme(\n      legend.position = \"right\",\n      text            = element_text(colour = \"white\"),\n      axis.text       = element_text(colour = \"white\"),\n      panel.background = element_rect(fill = \"#222222\", colour = NA),\n      plot.background  = element_rect(fill = \"#222222\", colour = NA),\n      panel.grid       = element_line(colour = \"#424242\"),\n      legend.background = element_rect(fill = \"#222222\", colour = NA),\n      legend.key        = element_rect(fill = \"#222222\", colour = NA),\n      strip.text        = element_text(colour = \"white\", size = 10),\n      plot.title        = element_text(margin = margin(b = 15)),\n      axis.title.x      = element_text(margin = margin(t = 15)),\n      axis.title.y      = element_text(margin = margin(r = 15)),\n      plot.margin       = margin(20, 20, 20, 20, unit = \"pt\")\n    )\n\n  return(list(gg = gg, areas = flatten_array(areas)))\n}\n```\n:::\n\n\n\n# Define colors for plots\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\noriginal_colors <- c(\n  \"#8B0000FF\",\n  \"#B31A16FF\",\n  \"#DB4743FF\",\n  \"#F5AF4DFF\",\n  \"#FEF4D5FF\",\n  \"#7C873EFF\",\n  \"#5495CFFF\",\n  \"#2A5F8EFF\",\n  \"#1A3D5CFF\" \n)\n\ncolor_interpolate <- function(color1, color2, n) {\n  col1 <- col2rgb(color1)\n  col2 <- col2rgb(color2)\n  result <- character(n)\n  for (i in 1:n) {\n    r <- round(col1[1] + (col2[1] - col1[1]) * (i-1)/(n-1))\n    g <- round(col1[2] + (col2[2] - col1[2]) * (i-1)/(n-1))\n    b <- round(col1[3] + (col2[3] - col1[3]) * (i-1)/(n-1))\n    result[i] <- rgb(r, g, b, maxColorValue = 255)\n  }\n  return(result)\n}\n\nsegment1 <- color_interpolate(original_colors[1], original_colors[2], 3)\nsegment2 <- color_interpolate(original_colors[2], original_colors[3], 4)\nsegment3 <- color_interpolate(original_colors[3], original_colors[4], 7)\nsegment4 <- color_interpolate(original_colors[4], original_colors[5], 5)\nsegment5 <- color_interpolate(original_colors[5], original_colors[6], 8)\nsegment6 <- color_interpolate(original_colors[6], original_colors[7], 7)\nsegment7 <- color_interpolate(original_colors[7], original_colors[8], 4)\nsegment8 <- color_interpolate(original_colors[8], original_colors[9], 3)\n\ngradient_palette <- c(\n  segment1[1:2],\n  segment2[1:3],\n  segment3[1:6],\n  segment4[1:4],\n  segment5[1:8],\n  segment6[1:6],\n  segment7[1:3],\n  segment8\n)\n\nlength(gradient_palette)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 35\n```\n\n\n:::\n\n```{.r .cell-code}\nbylot_colors <- c(original_colors[3], original_colors[7])\nherschel_colors <- c(original_colors[4], original_colors[6])\nwiltshire_colors <- gradient_palette\n```\n:::\n\n\n\n\n## Bylot\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nresults_bylot <- calculate_monthly_home_ranges(\n  as.POSIXct(\"2011-07-01 00:00:00\"), 44, 1371322147, '9559cb1b1cca51e9f3fd69812e5e22dc',\n  palette_colors = bylot_colors\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1\n[1] 2\n[1] 3\n[1] 4\n[1] 5\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nℹ In total 7 records were omitted as they were not deployed (the\n  `deployment_id` was `NA`).\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 6\n[1] 7\n[1] 8\n[1] 9\n[1] 10\n[1] 11\n[1] 12\n[1] 13\n[1] 14\n[1] 15\n[1] 16\n[1] 17\n[1] 18\n[1] 19\n[1] 20\n[1] 21\n[1] 22\n[1] 23\n[1] 24\n[1] 25\n[1] 26\n[1] 27\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nℹ In total 1 record were omitted as they were not deployed (the `deployment_id`\n  was `NA`).\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 28\n[1] 29\n[1] 30\n[1] 31\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nℹ In total 2 records were omitted as they were not deployed (the\n  `deployment_id` was `NA`).\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 32\n[1] 33\n[1] 34\n[1] 35\n[1] 36\n[1] 37\n[1] 38\n[1] 39\n[1] 40\n[1] 41\n[1] 42\n[1] 43\n[1] 44\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nℹ In total 3 records were omitted as they were not deployed (the\n  `deployment_id` was `NA`).\n```\n\n\n:::\n\n```{.r .cell-code}\nggsave(\"img/bylot_monthly.png\", results_bylot$gg, width = 10, height = 5.5, dpi = 300)\n\nwrite_csv(data.frame(areas = results_bylot$areas), \"data/output_bylot.csv\")\n```\n:::\n\n\n\n## Herschel\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nresults_herschel <- calculate_monthly_home_ranges(\n  as.POSIXct(\"2009-07-01 00:00:00\"), 9, 1371529289, '436e8205d0c2973115e2024b146a6ad5',\n  palette_colors = herschel_colors\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1\n[1] 2\n[1] 3\n[1] 4\n[1] 5\n<error/move2_error_movebank_api_multiple_rows_of_study_info>\nError in `movebank_download_study()`:\n! Unexpected event, more then one row of study info\n---\nBacktrace:\n    ▆\n 1. └─global calculate_monthly_home_ranges(...)\n 2.   ├─base::tryCatch(...)\n 3.   │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)\n 4.   │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])\n 5.   │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)\n 6.   └─move2::movebank_download_study(...)\n[1] 6\n[1] 7\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nℹ In total 49 records were omitted as they were not deployed (the\n  `deployment_id` was `NA`).\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 8\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nℹ In total 94 records were omitted as they were not deployed (the\n  `deployment_id` was `NA`).\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 9\n<error/move2_error_no_deployed_data>\nError in `movebank_download_study()`:\nEven though 46 event records were downloaded, none seem to be deployed\n(`deployment_id` is `NA` for all records).\nℹ This can be resolved by defining deployments in movebank\n  (<https://www.movebank.org/cms/movebank-content/deployment-manager>).\n---\nBacktrace:\n    ▆\n 1. └─global calculate_monthly_home_ranges(...)\n 2.   ├─base::tryCatch(...)\n 3.   │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)\n 4.   │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])\n 5.   │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)\n 6.   └─move2::movebank_download_study(...)\n```\n\n\n:::\n\n```{.r .cell-code}\nggsave(\"img/herschel_monthly.png\", results_herschel$gg, width = 10, height = 4, dpi = 300)\n\nwrite_csv(data.frame(areas = results_herschel$areas), \"data/output_herschel.csv\")\n```\n:::\n\n\n\n## Wiltshire\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nresults_wiltshire <- calculate_monthly_home_ranges(\n  as.POSIXct(\"2016-01-01 00:00:00\"), 43, 3179890710, 'ffa36f79defe10eac9fe70f6502a17e0',\n  palette_colors = wiltshire_colors\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1\n<error/move2_error_no_data_found>\nError in `movebank_download_study()`:\n! The request did not result in any data, this might be caused by trying\n  to retrieve a none existant individual. Or no data is available for download\n  in this study for your user account.\n---\nBacktrace:\n    ▆\n 1. └─global calculate_monthly_home_ranges(...)\n 2.   ├─base::tryCatch(...)\n 3.   │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)\n 4.   │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])\n 5.   │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)\n 6.   └─move2::movebank_download_study(...)\n[1] 2\n<error/move2_error_no_data_found>\nError in `movebank_download_study()`:\n! The request did not result in any data, this might be caused by trying\n  to retrieve a none existant individual. Or no data is available for download\n  in this study for your user account.\n---\nBacktrace:\n    ▆\n 1. └─global calculate_monthly_home_ranges(...)\n 2.   ├─base::tryCatch(...)\n 3.   │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)\n 4.   │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])\n 5.   │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)\n 6.   └─move2::movebank_download_study(...)\n[1] 3\n[1] 4\n[1] 5\n[1] 6\n[1] 7\n<error/move2_error_no_data_found>\nError in `movebank_download_study()`:\n! The request did not result in any data, this might be caused by trying\n  to retrieve a none existant individual. Or no data is available for download\n  in this study for your user account.\n---\nBacktrace:\n    ▆\n 1. └─global calculate_monthly_home_ranges(...)\n 2.   ├─base::tryCatch(...)\n 3.   │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)\n 4.   │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])\n 5.   │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)\n 6.   └─move2::movebank_download_study(...)\n[1] 8\n<error/move2_error_no_data_found>\nError in `movebank_download_study()`:\n! The request did not result in any data, this might be caused by trying\n  to retrieve a none existant individual. Or no data is available for download\n  in this study for your user account.\n---\nBacktrace:\n    ▆\n 1. └─global calculate_monthly_home_ranges(...)\n 2.   ├─base::tryCatch(...)\n 3.   │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)\n 4.   │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])\n 5.   │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)\n 6.   └─move2::movebank_download_study(...)\n[1] 9\n<error/move2_error_no_data_found>\nError in `movebank_download_study()`:\n! The request did not result in any data, this might be caused by trying\n  to retrieve a none existant individual. Or no data is available for download\n  in this study for your user account.\n---\nBacktrace:\n    ▆\n 1. └─global calculate_monthly_home_ranges(...)\n 2.   ├─base::tryCatch(...)\n 3.   │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)\n 4.   │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])\n 5.   │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)\n 6.   └─move2::movebank_download_study(...)\n[1] 10\n<error/move2_error_no_data_found>\nError in `movebank_download_study()`:\n! The request did not result in any data, this might be caused by trying\n  to retrieve a none existant individual. Or no data is available for download\n  in this study for your user account.\n---\nBacktrace:\n    ▆\n 1. └─global calculate_monthly_home_ranges(...)\n 2.   ├─base::tryCatch(...)\n 3.   │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)\n 4.   │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])\n 5.   │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)\n 6.   └─move2::movebank_download_study(...)\n[1] 11\n<error/move2_error_no_data_found>\nError in `movebank_download_study()`:\n! The request did not result in any data, this might be caused by trying\n  to retrieve a none existant individual. Or no data is available for download\n  in this study for your user account.\n---\nBacktrace:\n    ▆\n 1. └─global calculate_monthly_home_ranges(...)\n 2.   ├─base::tryCatch(...)\n 3.   │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)\n 4.   │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])\n 5.   │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)\n 6.   └─move2::movebank_download_study(...)\n[1] 12\n<error/move2_error_no_data_found>\nError in `movebank_download_study()`:\n! The request did not result in any data, this might be caused by trying\n  to retrieve a none existant individual. Or no data is available for download\n  in this study for your user account.\n---\nBacktrace:\n    ▆\n 1. └─global calculate_monthly_home_ranges(...)\n 2.   ├─base::tryCatch(...)\n 3.   │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)\n 4.   │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])\n 5.   │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)\n 6.   └─move2::movebank_download_study(...)\n[1] 13\n<error/move2_error_no_data_found>\nError in `movebank_download_study()`:\n! The request did not result in any data, this might be caused by trying\n  to retrieve a none existant individual. Or no data is available for download\n  in this study for your user account.\n---\nBacktrace:\n    ▆\n 1. └─global calculate_monthly_home_ranges(...)\n 2.   ├─base::tryCatch(...)\n 3.   │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)\n 4.   │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])\n 5.   │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)\n 6.   └─move2::movebank_download_study(...)\n[1] 14\n<error/move2_error_no_data_found>\nError in `movebank_download_study()`:\n! The request did not result in any data, this might be caused by trying\n  to retrieve a none existant individual. Or no data is available for download\n  in this study for your user account.\n---\nBacktrace:\n    ▆\n 1. └─global calculate_monthly_home_ranges(...)\n 2.   ├─base::tryCatch(...)\n 3.   │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)\n 4.   │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])\n 5.   │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)\n 6.   └─move2::movebank_download_study(...)\n[1] 15\n[1] 16\n[1] 17\n[1] 18\n[1] 19\n<error/move2_error_no_data_found>\nError in `movebank_download_study()`:\n! The request did not result in any data, this might be caused by trying\n  to retrieve a none existant individual. Or no data is available for download\n  in this study for your user account.\n---\nBacktrace:\n    ▆\n 1. └─global calculate_monthly_home_ranges(...)\n 2.   ├─base::tryCatch(...)\n 3.   │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)\n 4.   │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])\n 5.   │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)\n 6.   └─move2::movebank_download_study(...)\n[1] 20\n<error/move2_error_no_data_found>\nError in `movebank_download_study()`:\n! The request did not result in any data, this might be caused by trying\n  to retrieve a none existant individual. Or no data is available for download\n  in this study for your user account.\n---\nBacktrace:\n    ▆\n 1. └─global calculate_monthly_home_ranges(...)\n 2.   ├─base::tryCatch(...)\n 3.   │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)\n 4.   │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])\n 5.   │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)\n 6.   └─move2::movebank_download_study(...)\n[1] 21\n<error/move2_error_no_data_found>\nError in `movebank_download_study()`:\n! The request did not result in any data, this might be caused by trying\n  to retrieve a none existant individual. Or no data is available for download\n  in this study for your user account.\n---\nBacktrace:\n    ▆\n 1. └─global calculate_monthly_home_ranges(...)\n 2.   ├─base::tryCatch(...)\n 3.   │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)\n 4.   │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])\n 5.   │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)\n 6.   └─move2::movebank_download_study(...)\n[1] 22\n<error/move2_error_no_data_found>\nError in `movebank_download_study()`:\n! The request did not result in any data, this might be caused by trying\n  to retrieve a none existant individual. Or no data is available for download\n  in this study for your user account.\n---\nBacktrace:\n    ▆\n 1. └─global calculate_monthly_home_ranges(...)\n 2.   ├─base::tryCatch(...)\n 3.   │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)\n 4.   │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])\n 5.   │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)\n 6.   └─move2::movebank_download_study(...)\n[1] 23\n<error/move2_error_no_data_found>\nError in `movebank_download_study()`:\n! The request did not result in any data, this might be caused by trying\n  to retrieve a none existant individual. Or no data is available for download\n  in this study for your user account.\n---\nBacktrace:\n    ▆\n 1. └─global calculate_monthly_home_ranges(...)\n 2.   ├─base::tryCatch(...)\n 3.   │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)\n 4.   │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])\n 5.   │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)\n 6.   └─move2::movebank_download_study(...)\n[1] 24\n<error/move2_error_no_data_found>\nError in `movebank_download_study()`:\n! The request did not result in any data, this might be caused by trying\n  to retrieve a none existant individual. Or no data is available for download\n  in this study for your user account.\n---\nBacktrace:\n    ▆\n 1. └─global calculate_monthly_home_ranges(...)\n 2.   ├─base::tryCatch(...)\n 3.   │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)\n 4.   │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])\n 5.   │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)\n 6.   └─move2::movebank_download_study(...)\n[1] 25\n<error/move2_error_no_data_found>\nError in `movebank_download_study()`:\n! The request did not result in any data, this might be caused by trying\n  to retrieve a none existant individual. Or no data is available for download\n  in this study for your user account.\n---\nBacktrace:\n    ▆\n 1. └─global calculate_monthly_home_ranges(...)\n 2.   ├─base::tryCatch(...)\n 3.   │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)\n 4.   │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])\n 5.   │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)\n 6.   └─move2::movebank_download_study(...)\n[1] 26\n[1] 27\n[1] 28\n[1] 29\n[1] 30\n[1] 31\n[1] 32\n<error/move2_error_no_data_found>\nError in `movebank_download_study()`:\n! The request did not result in any data, this might be caused by trying\n  to retrieve a none existant individual. Or no data is available for download\n  in this study for your user account.\n---\nBacktrace:\n    ▆\n 1. └─global calculate_monthly_home_ranges(...)\n 2.   ├─base::tryCatch(...)\n 3.   │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)\n 4.   │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])\n 5.   │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)\n 6.   └─move2::movebank_download_study(...)\n[1] 33\n<error/move2_error_no_data_found>\nError in `movebank_download_study()`:\n! The request did not result in any data, this might be caused by trying\n  to retrieve a none existant individual. Or no data is available for download\n  in this study for your user account.\n---\nBacktrace:\n    ▆\n 1. └─global calculate_monthly_home_ranges(...)\n 2.   ├─base::tryCatch(...)\n 3.   │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)\n 4.   │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])\n 5.   │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)\n 6.   └─move2::movebank_download_study(...)\n[1] 34\n<error/move2_error_no_data_found>\nError in `movebank_download_study()`:\n! The request did not result in any data, this might be caused by trying\n  to retrieve a none existant individual. Or no data is available for download\n  in this study for your user account.\n---\nBacktrace:\n    ▆\n 1. └─global calculate_monthly_home_ranges(...)\n 2.   ├─base::tryCatch(...)\n 3.   │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)\n 4.   │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])\n 5.   │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)\n 6.   └─move2::movebank_download_study(...)\n[1] 35\n<error/move2_error_no_data_found>\nError in `movebank_download_study()`:\n! The request did not result in any data, this might be caused by trying\n  to retrieve a none existant individual. Or no data is available for download\n  in this study for your user account.\n---\nBacktrace:\n    ▆\n 1. └─global calculate_monthly_home_ranges(...)\n 2.   ├─base::tryCatch(...)\n 3.   │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)\n 4.   │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])\n 5.   │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)\n 6.   └─move2::movebank_download_study(...)\n[1] 36\n<error/move2_error_no_data_found>\nError in `movebank_download_study()`:\n! The request did not result in any data, this might be caused by trying\n  to retrieve a none existant individual. Or no data is available for download\n  in this study for your user account.\n---\nBacktrace:\n    ▆\n 1. └─global calculate_monthly_home_ranges(...)\n 2.   ├─base::tryCatch(...)\n 3.   │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)\n 4.   │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])\n 5.   │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)\n 6.   └─move2::movebank_download_study(...)\n[1] 37\n<error/move2_error_no_data_found>\nError in `movebank_download_study()`:\n! The request did not result in any data, this might be caused by trying\n  to retrieve a none existant individual. Or no data is available for download\n  in this study for your user account.\n---\nBacktrace:\n    ▆\n 1. └─global calculate_monthly_home_ranges(...)\n 2.   ├─base::tryCatch(...)\n 3.   │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)\n 4.   │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])\n 5.   │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)\n 6.   └─move2::movebank_download_study(...)\n[1] 38\n<error/move2_error_no_data_found>\nError in `movebank_download_study()`:\n! The request did not result in any data, this might be caused by trying\n  to retrieve a none existant individual. Or no data is available for download\n  in this study for your user account.\n---\nBacktrace:\n    ▆\n 1. └─global calculate_monthly_home_ranges(...)\n 2.   ├─base::tryCatch(...)\n 3.   │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)\n 4.   │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])\n 5.   │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)\n 6.   └─move2::movebank_download_study(...)\n[1] 39\n<error/move2_error_no_data_found>\nError in `movebank_download_study()`:\n! The request did not result in any data, this might be caused by trying\n  to retrieve a none existant individual. Or no data is available for download\n  in this study for your user account.\n---\nBacktrace:\n    ▆\n 1. └─global calculate_monthly_home_ranges(...)\n 2.   ├─base::tryCatch(...)\n 3.   │ └─base (local) tryCatchList(expr, classes, parentenv, handlers)\n 4.   │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])\n 5.   │     └─base (local) doTryCatch(return(expr), name, parentenv, handler)\n 6.   └─move2::movebank_download_study(...)\n[1] 40\n[1] 41\n[1] 42\n[1] 43\n```\n\n\n:::\n\n```{.r .cell-code}\nggsave(\"img/wiltshire_monthly.png\", results_wiltshire$gg, width = 10, height = 7, dpi = 300)\n\nwrite_csv(data.frame(areas = results_wiltshire$areas), \"data/output_wiltshire.csv\")\n```\n:::\n\n\n# Monthly boxplot\n\n\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Box plot comparing monthly home ranges (outliers removed)](preprocessing_monthly_home_ranges_files/figure-html/fig-home-ranges-boxplot-1.png){#fig-home-ranges-boxplot width=672}\n:::\n:::",
    "supporting": [
      "preprocessing_monthly_home_ranges_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}